{% extends "base.html" %}

<!-- Automatically set the window title to the file path -->
{% block window_path %}~/{{ page.relative_path }}{% endblock %}
{% block prompt_cmd %}cat {{ page.relative_path | split(pat="/") | last }}{% endblock %}

<!-- Automatically set the prompt directory -->
{% block prompt_path %}
    {% if page.components %}
        ~/{{ page.components | slice(end=-1) | join(sep="/") }}
    {% else %}
        ~/
    {% endif %}
{% endblock %}

{% block content %}
<article class="post-layout">
    
    <!-- Post Header -->
    <header class="post-header">
        <h1 class="post-title">{{ page.title }}</h1>
        
        <div class="post-meta">
            <!-- Date -->
            {% if page.date %}
            <div class="meta-item">
                <i class="ph ph-calendar"></i> <span>{{ page.date }}</span>
            </div>
            {% endif %}
            
            <!-- Reading Time -->
            {% if page.reading_time %}
            <div class="meta-item">
                <i class="ph ph-clock"></i> <span>{{ page.reading_time }} min read</span>
            </div>
            {% endif %}
        </div>

        <!-- Tags -->
        {% if page.taxonomies.tags %}
        <div class="post-tags">
            <span class="tag-label">tags:</span>
            {% for tag in page.taxonomies.tags %}
            <a href="{{ get_taxonomy_url(kind="tags", name=tag) }}" class="tag">#{{ tag }}</a>
            {% endfor %}
        </div>
        {% endif %}
    </header>

    <!-- Markdown Content -->
    <div class="post-content">
        {{ page.content | safe }}
    </div>

    <!-- Footer / Navigation -->
    <footer class="post-footer">
        <a href="javascript:history.back()" class="back-link">
            <i class="ph ph-arrow-return-left"></i> cd ..
        </a>
        <span class="eof">-- EOF --</span>
    </footer>

</article>
{% endblock content %}
